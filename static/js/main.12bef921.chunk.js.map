{"version":3,"sources":["App.js","index.js"],"names":["Window","_ref","id","title","children","isMinimized","isFullscreen","onClose","onMinimize","onToggleFullscreen","defaultSize","width","height","fullscreenSize","size","setSize","useState","position","setPosition","x","y","_jsx","Rnd","bounds","onDragStop","e","d","onResizeStop","direction","ref","delta","style","enableResizing","disableDragging","dragHandleClassName","className","concat","_jsxs","onClick","toggleFullscreen","FileExplorer","_ref2","_node$children","node","updateNode","expanded","setExpanded","editing","setEditing","newName","setNewName","name","editingContent","setEditingContent","contentValue","setContentValue","content","downloadFile","blob","Blob","type","saveAs","deleteNode","renameNode","saveContent","_Fragment","value","onChange","target","onDoubleClick","createFile","createFolder","async","zip","JSZip","addToZip","folder","path","arguments","length","undefined","forEach","child","file","generateAsync","files","endsWith","loadAsync","then","relativePath","zipEntry","dir","reader","FileReader","onload","result","readAsText","paddingLeft","map","index","App","windows","setWindows","isOpen","action","targetNode","payload","recursiveUpdate","push","filter","Boolean","prev","w","_objectSpread","closeWindow","minimizeWindow","toggleFullscreenWindow","window","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12bef921.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Rnd } from \"react-rnd\";\nimport JSZip from \"jszip\";\nimport { saveAs } from \"file-saver\";\nimport \"./App.css\";\n\n/* ================= WINDOW ================= */\n\nconst Window = ({\n  id,\n  title,\n  children,\n  isMinimized,\n  isFullscreen,\n  onClose,\n  onMinimize,\n  onToggleFullscreen,\n}) => {\n  const defaultSize = { width: 500, height: 400 };\n  const fullscreenSize = { width: \"100%\", height: \"100%\" };\n\n  const [size, setSize] = useState(defaultSize);\n  const [position, setPosition] = useState({ x: 100, y: 50 });\n\n  const toggleFullscreen = () => {\n    if (isFullscreen) {\n      setSize(defaultSize);\n      setPosition({ x: 100, y: 50 });\n    } else {\n      setSize(fullscreenSize);\n      setPosition({ x: 0, y: 0 });\n    }\n    onToggleFullscreen(id);\n  };\n\n  if (!isMinimized && !isFullscreen) {\n    // keep current size\n  }\n\n  return (\n    <Rnd\n      size={size}\n      position={position}\n      bounds=\"parent\"\n      onDragStop={(e, d) => setPosition({ x: d.x, y: d.y })}\n      onResizeStop={(e, direction, ref, delta, position) => {\n        setSize({ width: ref.style.width, height: ref.style.height });\n        setPosition(position);\n      }}\n      enableResizing={!isFullscreen && !isMinimized}\n      disableDragging={isFullscreen || isMinimized}\n      dragHandleClassName=\"window-header\"\n      className={`window ${isFullscreen ? \"fullscreen\" : \"\"}`}\n    >\n      <div>\n        <div className=\"window-header\">\n          <span>{title}</span>\n          <div>\n            <button onClick={() => onMinimize(id)}>\n              {isMinimized ? \"ğŸ”¼\" : \"ğŸ”½\"}\n            </button>\n            <button onClick={toggleFullscreen}>\n              {isFullscreen ? \"ğŸ——\" : \"ğŸ—–\"}\n            </button>\n            <button onClick={() => onClose(id)}>X</button>\n          </div>\n        </div>\n        {!isMinimized && <div className=\"window-content\">{children}</div>}\n      </div>\n    </Rnd>\n  );\n};\n\n/* ================= FILE EXPLORER ================= */\n\nconst FileExplorer = ({ node, updateNode }) => {\n  const [expanded, setExpanded] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [newName, setNewName] = useState(node.name);\n  const [editingContent, setEditingContent] = useState(false);\n  const [contentValue, setContentValue] = useState(node.content || \"\");\n\n  const downloadFile = () => {\n    const blob = new Blob([node.content || \"\"], { type: \"text/plain\" });\n    saveAs(blob, node.name);\n  };\n\n  const deleteNode = () => updateNode(\"delete\", node);\n\n  const renameNode = () => {\n    updateNode(\"rename\", node, newName);\n    setEditing(false);\n  };\n\n  const saveContent = () => {\n    updateNode(\"editContent\", node, contentValue);\n    setEditingContent(false);\n  };\n\n  const createFile = () =>\n    updateNode(\"createFile\", node, {\n      type: \"file\",\n      name: \"newFile.txt\",\n      content: \"\",\n    });\n\n  const createFolder = () =>\n    updateNode(\"createFolder\", node, {\n      type: \"folder\",\n      name: \"New Folder\",\n      children: [],\n    });\n\n  const zipFolder = async () => {\n    const zip = new JSZip();\n\n    const addToZip = (folder, path = \"\") => {\n      folder.children.forEach((child) => {\n        if (child.type === \"file\") {\n          zip.file(path + child.name, child.content || \"\");\n        } else {\n          addToZip(child, path + child.name + \"/\");\n        }\n      });\n    };\n\n    addToZip(node);\n    const content = await zip.generateAsync({ type: \"blob\" });\n    saveAs(content, node.name + \".zip\");\n  };\n\n  const handleUpload = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (file.name.endsWith(\".zip\")) {\n      JSZip.loadAsync(file).then((zip) => {\n        zip.forEach(async (relativePath, zipEntry) => {\n          if (!zipEntry.dir) {\n            const content = await zipEntry.async(\"string\");\n            updateNode(\"createFile\", node, {\n              type: \"file\",\n              name: relativePath,\n              content,\n            });\n          }\n        });\n      });\n    } else {\n      const reader = new FileReader();\n      reader.onload = () => {\n        updateNode(\"createFile\", node, {\n          type: \"file\",\n          name: file.name,\n          content: reader.result,\n        });\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  /* FILE */\n  if (node.type === \"file\") {\n    return (\n      <div className=\"file\">\n        ğŸ“„{\" \"}\n        {editing ? (\n          <>\n            <input\n              value={newName}\n              onChange={(e) => setNewName(e.target.value)}\n            />\n            <button onClick={renameNode}>Save</button>\n          </>\n        ) : (\n          <>\n            <span onDoubleClick={() => setEditingContent(true)}>\n              {node.name}\n            </span>\n            <button onClick={() => setEditing(true)}>âœ</button>\n            <button onClick={downloadFile}>â¬‡</button>\n            <button onClick={deleteNode}>ğŸ—‘</button>\n          </>\n        )}\n\n        {editingContent && (\n          <div>\n            <textarea\n              value={contentValue}\n              onChange={(e) => setContentValue(e.target.value)}\n            />\n            <button onClick={saveContent}>Save</button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  /* FOLDER */\n  return (\n    <div className=\"folder\">\n      <div>\n        ğŸ“ {node.name}\n        <button onClick={() => setExpanded(!expanded)}>\n          {expanded ? \"â–¼\" : \"â–¶\"}\n        </button>\n        <button onClick={createFile}>ğŸ“„+</button>\n        <button onClick={createFolder}>ğŸ“+</button>\n        <button onClick={zipFolder}>ğŸ—œ</button>\n        <button onClick={deleteNode}>ğŸ—‘</button>\n        <input type=\"file\" onChange={handleUpload} />\n      </div>\n\n      {expanded && (\n        <div style={{ paddingLeft: 20 }}>\n          {node.children?.map((child, index) => (\n            <FileExplorer\n              key={index}\n              node={child}\n              updateNode={updateNode}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n/* ================= MAIN APP ================= */\n\nconst App = () => {\n  const [windows, setWindows] = useState([\n    {\n      id: 1,\n      title: \"My Computer\",\n      content: {\n        type: \"folder\",\n        name: \"Root\",\n        children: [],\n      },\n      isOpen: true,\n      isMinimized: false,\n      isFullscreen: false,\n    },\n  ]);\n\n  const updateNode = (action, targetNode, payload) => {\n    const recursiveUpdate = (node) => {\n      if (node === targetNode) {\n        switch (action) {\n          case \"delete\":\n            return null;\n          case \"rename\":\n            node.name = payload;\n            return node;\n          case \"editContent\":\n            node.content = payload;\n            return node;\n          case \"createFile\":\n            node.children.push(payload);\n            return node;\n          case \"createFolder\":\n            node.children.push(payload);\n            return node;\n          default:\n            return node;\n        }\n      }\n\n      if (node.children) {\n        node.children = node.children\n          .map(recursiveUpdate)\n          .filter(Boolean);\n      }\n\n      return node;\n    };\n\n    setWindows((prev) =>\n      prev.map((w) => ({\n        ...w,\n        content: recursiveUpdate({ ...w.content }),\n      }))\n    );\n  };\n\n  const openWindow = (id) =>\n    setWindows((prev) =>\n      prev.map((w) =>\n        w.id === id ? { ...w, isOpen: true, isMinimized: false } : w\n      )\n    );\n\n  const closeWindow = (id) =>\n    setWindows((prev) =>\n      prev.map((w) => (w.id === id ? { ...w, isOpen: false } : w))\n    );\n\n  const minimizeWindow = (id) =>\n    setWindows((prev) =>\n      prev.map((w) =>\n        w.id === id ? { ...w, isMinimized: !w.isMinimized } : w\n      )\n    );\n\n  const toggleFullscreenWindow = (id) =>\n    setWindows((prev) =>\n      prev.map((w) =>\n        w.id === id ? { ...w, isFullscreen: !w.isFullscreen } : w\n      )\n    );\n\n  return (\n    <div className=\"desktop\">\n      {windows\n        .filter((w) => w.isOpen)\n        .map((window) => (\n          <Window\n            key={window.id}\n            id={window.id}\n            title={window.title}\n            isMinimized={window.isMinimized}\n            isFullscreen={window.isFullscreen}\n            onClose={closeWindow}\n            onMinimize={minimizeWindow}\n            onToggleFullscreen={toggleFullscreenWindow}\n          >\n            <FileExplorer\n              node={window.content}\n              updateNode={updateNode}\n            />\n          </Window>\n        ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}